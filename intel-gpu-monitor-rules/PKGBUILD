# Maintainer: wintersnowgod <git.xerox732@passinbox.com>
pkgname=intel-gpu-monitor-rules
pkgver=1
pkgrel=1
pkgdesc="Automated rules for intel-gpu-monitor plasma widget."
arch=('any')
url="https://github.com/luisbocanegra/plasma-intel-gpu-monitor"
license=('GPL')
depends=('intel-gpu-tools')
source=("setcap_intel_gpu_top.service"
        "99-sysctl-paranoid.conf"
        "setcap_intel_gpu_top.hook")
sha256sums=('bac6f95b1566d86de3f829207940505230a96824470a0b812c7f6405c7e42771'
            '149b9569ca9bcb9545b54df2d12e2d69d53db14ec0737bdc2042f478b96bee37'
            '1fb3c263e520ab3cdee814f7a8163f8b2a943fc4cba277b06455b45b2168809b')
install=${pkgname}.install

package() {
  install -Dm644 "${srcdir}/setcap_intel_gpu_top.service" "${pkgdir}/etc/systemd/system/setcap_intel_gpu_top.service"
  install -Dm644 "${srcdir}/99-sysctl-paranoid.conf" "${pkgdir}/etc/sysctl.d/99-sysctl-paranoid.conf"
  install -Dm644 "${srcdir}/setcap_intel_gpu_top.hook" "${pkgdir}/usr/share/libalpm/hooks/setcap_intel_gpu_top.hook"
}
